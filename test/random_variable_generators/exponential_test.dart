import 'package:flutter_test/flutter_test.dart';
import 'package:random_generators/modules/random_variable_generators/exponential.dart';

void main() {
  group("Exponential distribution test", () {
    test("works", () {
      List<double> randomNumbers = [
        0.586206897,
        0.896551724,
        0.310344828,
        0.862068966,
        0.931034483,
        0.689655172,
        0.034482759,
        0.827586207,
        0.551724138,
        0.517241379,
        0.137931034,
        0.965517241,
        0.068965517,
        0.206896552,
        0.724137931,
        0.413793103,
        0,
        0.448275862,
        0.379310345,
        0.620689655,
        0.275862069,
        0.482758621,
        0.75862069,
        0.793103448,
        0.172413793,
        0.344827586,
        0.24137931,
        0.103448276,
      ];

      List<double> expectedRandomVariables = [
        8.545319775,
        1.747188671,
        18.72114004,
        2.374720082,
        1.143343424,
        5.945016903,
        53.87673328,
        3.027871994,
        9.515313724,
        10.54793006,
        31.6960235,
        0.561461117,
        42.78637839,
        25.20858177,
        5.164374276,
        14.11822688,
        0,
        12.83754356,
        15.51040892,
        7.630785153,
        20.60566861,
        11.65181601,
        4.420054026,
        3.708825825,
        28.12572668,
        17.03537179,
        22.74217089,
        36.29893666,
      ];

      var exponential = ExponentialDistVariable(lambda: 16);

      for (var i = 0; i < randomNumbers.length; i++) {
        closeTo(exponential.get(randomNumbers[i]), expectedRandomVariables[i]);
      }
    });

    test("works with lambda = 36", () {
      List<double> randomNumbers = [
        0.586206897,
        0.896551724,
        0.310344828,
        0.862068966,
        0.931034483,
        0.689655172,
        0.034482759,
        0.827586207,
        0.551724138,
        0.517241379,
        0.137931034,
        0.965517241,
        0.068965517,
        0.206896552,
        0.724137931,
        0.413793103,
        0,
        0.448275862,
        0.379310345,
        0.620689655,
        0.275862069,
        0.482758621,
        0.75862069,
        0.793103448,
        0.172413793,
        0.344827586,
        0.24137931,
        0.103448276,
      ];

      List<double> expectedRandomVariables = [
        19.22696949,
        3.931174511,
        42.1225651,
        5.343120184,
        2.572522703,
        13.37628803,
        121.2226499,
        6.812711987,
        21.40945588,
        23.73284264,
        71.31605288,
        1.263287513,
        96.26935138,
        56.71930899,
        11.61984212,
        31.76601049,
        0,
        28.88447301,
        34.89842006,
        17.1692666,
        46.36275438,
        26.21658601,
        9.945121559,
        8.344858106,
        63.28288503,
        38.32958653,
        51.16988451,
        81.67260749,
      ];

      var exponential = ExponentialDistVariable(lambda: 36);

      for (var i = 0; i < randomNumbers.length; i++) {
        closeTo(exponential.get(randomNumbers[i]), expectedRandomVariables[i]);
      }
    });
  });
}
